[{"/home/jan/SoundTrackBoxFrontend/src/index.js":"1","/home/jan/SoundTrackBoxFrontend/src/App.js":"2","/home/jan/SoundTrackBoxFrontend/src/reportWebVitals.js":"3","/home/jan/SoundTrackBoxFrontend/src/utils/PrivateRoute.js":"4","/home/jan/SoundTrackBoxFrontend/src/components/MusicCollection/MusicCollection.js":"5","/home/jan/SoundTrackBoxFrontend/src/components/Dialogs/RegistrationForm.js":"6","/home/jan/SoundTrackBoxFrontend/src/components/Dialogs/LoginForm.js":"7","/home/jan/SoundTrackBoxFrontend/src/constants/apiConstants.js":"8","/home/jan/SoundTrackBoxFrontend/src/components/Dialogs/CreatePlaylistDialog.js":"9","/home/jan/SoundTrackBoxFrontend/src/components/MusicCollection/Playlist.js":"10","/home/jan/SoundTrackBoxFrontend/src/components/Dialogs/UploadDialog.js":"11","/home/jan/SoundTrackBoxFrontend/src/components/MusicCollection/Song.js":"12","/home/jan/SoundTrackBoxFrontend/src/components/MainComponents/Player.js":"13","/home/jan/SoundTrackBoxFrontend/src/components/MainComponents/Header.js":"14"},{"size":547,"mtime":1615563802991,"results":"15","hashOfConfig":"16"},{"size":2150,"mtime":1616619970550,"results":"17","hashOfConfig":"16"},{"size":362,"mtime":1614635661135,"results":"18","hashOfConfig":"16"},{"size":408,"mtime":1614635661135,"results":"19","hashOfConfig":"16"},{"size":2445,"mtime":1616622346916,"results":"20","hashOfConfig":"16"},{"size":6351,"mtime":1615926694634,"results":"21","hashOfConfig":"16"},{"size":4178,"mtime":1615545455865,"results":"22","hashOfConfig":"16"},{"size":248,"mtime":1615577318605,"results":"23","hashOfConfig":"16"},{"size":2639,"mtime":1616623485119,"results":"24","hashOfConfig":"16"},{"size":4696,"mtime":1616622002581,"results":"25","hashOfConfig":"16"},{"size":2193,"mtime":1616623140226,"results":"26","hashOfConfig":"16"},{"size":2433,"mtime":1616622179790,"results":"27","hashOfConfig":"16"},{"size":2991,"mtime":1616619870274,"results":"28","hashOfConfig":"16"},{"size":2669,"mtime":1616622281107,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1srf86m",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"32"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"32"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"32"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"32"},"/home/jan/SoundTrackBoxFrontend/src/index.js",[],["64","65"],"/home/jan/SoundTrackBoxFrontend/src/App.js",[],"/home/jan/SoundTrackBoxFrontend/src/reportWebVitals.js",[],"/home/jan/SoundTrackBoxFrontend/src/utils/PrivateRoute.js",["66"],"import React from 'react';\nimport { Redirect, Route } from \"react-router-dom\";\nimport { ACCESS_TOKEN_NAME } from '../constants/apiConstants';\n\nfunction PrivateRoute({ children, ...rest }) {\n    return (\n      <Route\n        {...rest}\n        render={() =>\n          localStorage.getItem(ACCESS_TOKEN_NAME) ? (\n            children\n          ) : null\n        }\n      />\n    );\n  }\nexport default PrivateRoute;","/home/jan/SoundTrackBoxFrontend/src/components/MusicCollection/MusicCollection.js",[],"/home/jan/SoundTrackBoxFrontend/src/components/Dialogs/RegistrationForm.js",[],"/home/jan/SoundTrackBoxFrontend/src/components/Dialogs/LoginForm.js",[],"/home/jan/SoundTrackBoxFrontend/src/constants/apiConstants.js",[],"/home/jan/SoundTrackBoxFrontend/src/components/Dialogs/CreatePlaylistDialog.js",[],"/home/jan/SoundTrackBoxFrontend/src/components/MusicCollection/Playlist.js",["67","68","69"],"import React, { useState } from 'react';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\nimport Cookies from 'universal-cookie';\nimport axios from 'axios';\n\nimport UploadDialog from '../Dialogs/UploadDialog';\nimport Song from './Song';\nimport { API_BASE_URL, ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\n\n\nconst Playlist = (props) => {\n    const [fetchInProgress, setFetchInProgress] = useState(false);\n\n    const handleUpload = (songName, selectedFile) => {\n        setFetchInProgress(true);\n        Promise.resolve(addSongPost(props.playlistName, props.playlistID, songName, selectedFile))\n            .then((result) => props.parentCallback(result))\n            .then(() => {\n                setFetchInProgress(false);\n            });\n    }\n\n    const deletePlaylist = () => {\n        const cookies = new Cookies();\n        Promise.resolve(deletePlaylistPost(props.playlistID)).then((result) => {\n            props.songCollection.map((song) => {\n                if (song._id === cookies.get('songID')) {\n                    props.updateCurrentSong(undefined, undefined);\n                }\n            })\n            props.parentCallback(result)\n        });\n    }\n\n    const songs = (songCollection) => songCollection.map((song) => {\n        return (\n            <Accordion.Collapse eventKey=\"0\" key={song._id}>\n                <Song\n                    playlistID={props.playlistID}\n                    playlistName={props.playlistName}\n                    songName={song.songName}\n                    songID={song._id}\n                    parentCallback={props.parentCallback}\n                    updateCurrentSong={\n                        props.updateCurrentSong\n                    }\n                >\n                </Song>\n            </Accordion.Collapse>\n        )\n    });\n\n    const addSongPost = async (playlistName, playlistID, songName, selectedFile) => {\n\n        const data = new FormData()\n        data.append('playlistName', playlistName);\n        data.append('playlistID', playlistID);\n        data.append('songName', songName);\n        data.append('track', selectedFile);\n\n        return axios.post(API_BASE_URL + '/media/addSong', data, { headers: { \"auth-token\": localStorage.getItem(ACCESS_TOKEN_NAME) } })\n            .then(function (response) {\n                if (response.status === 200) {\n                    return response.data.affected;\n                }\n            })\n            .catch(function (error) {\n                console.log(error);\n            })\n    }\n\n    const deletePlaylistPost = async (playlistID) => {\n        return axios.post(API_BASE_URL + '/media/deletePlaylist', { playlistID: playlistID }, { headers: { \"auth-token\": localStorage.getItem(ACCESS_TOKEN_NAME) } })\n            .then(function (response) {\n                if (response.status === 200) {\n                    return response.data.affected;\n                }\n            })\n            .catch(function (error) {\n                console.log(error);\n            })\n    }\n\n    return (\n        <>\n            { fetchInProgress && (<div className=\"d-flex justify-content-center\">\n                <div className=\"spinner-border\" role=\"status\">\n                    <span className=\"sr-only\">Loading...</span>\n                </div>\n            </div>)}\n            { !fetchInProgress && (<Accordion>\n                <div className=\"row\">\n                    <a className=\"dropdown-toggle\"\n                        data-toggle=\"dropdown\"\n                        aria-expanded=\"false\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-collection-play-fill\" viewBox=\"0 0 16 16\">\n                            <path d=\"M2.5 3.5a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm2-2a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM0 13a1.5 1.5 0 0 0 1.5 1.5h13A1.5 1.5 0 0 0 16 13V6a1.5 1.5 0 0 0-1.5-1.5h-13A1.5 1.5 0 0 0 0 6v7zm6.258-6.437a.5.5 0 0 1 .507.013l4 2.5a.5.5 0 0 1 0 .848l-4 2.5A.5.5 0 0 1 6 12V7a.5.5 0 0 1 .258-.437z\" />\n                        </svg>\n                    </a>\n                    <div className=\"dropdown-menu\">\n                        <UploadDialog id=\"add-song\" parentCallback={handleUpload} />\n                        <a className=\"dropdown-item\" onClick={deletePlaylist}>Delete this playlist</a>\n                    </div>\n                    <Accordion.Toggle className=\"btn btn-dark flex-grow-1\" as={Button} eventKey=\"0\">\n                        {props.playlistName}\n                    </Accordion.Toggle>\n                </div>\n                {songs(props.songCollection)}\n            </Accordion>)}\n        </>\n    )\n}\n\nexport default Playlist;","/home/jan/SoundTrackBoxFrontend/src/components/Dialogs/UploadDialog.js",["70","71","72"],"import React, { useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\n\nconst UploadDialog = (props) => {\n  const [open, setOpen] = useState(false);\n  const [songName, setSongName] = useState(\"\");\n  const [songUrl, setSongUrl] = useState(\"\");\n  const [selectedFile, setSelectedFile] = useState(null);\n\n  const handleNameChange = (event) => {\n    setSongName(event.target.value)\n  };\n\n  const handleUrlChange = (event) => {\n    setSongUrl(event.target.value);\n  };\n\n  const handleDialogOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDialogClose = () => {\n    setOpen(false);\n    setSongName(\"\");\n    setSongUrl(\"\");\n  };\n\n  const handleDialogSubmit = () => {\n    if (songName !== \"\") {\n      props.parentCallback(songName, selectedFile);\n      setOpen(false);\n      setSongName(\"\");\n      setSongUrl(\"\");\n    } else {\n      alert(\"You didn't give your song any name\");\n    }\n  };\n\n  const onFileUpload = (event) => {\n    setSelectedFile(event.target.files[0]);\n  }\n\n  return (\n    <React.Fragment>\n      <a className=\"dropdown-item\" onClick={handleDialogOpen}>Add a song</a>\n\n      <Modal show={open} onHide={handleDialogClose} animation={false}>\n        <Modal.Header closeButton>\n          Upload a Song\n        </Modal.Header>\n        <Modal.Body>\n          <form>\n            <Form.Group>\n              <Form.File onChange={onFileUpload} />\n            </Form.Group>\n            <div className=\"form-group text-left\">\n              <label >Song name</label>\n              <input type=\"song-name\"\n                className=\"form-control\"\n                id=\"playlist\"\n                aria-describedby=\"song name\"\n                placeholder=\"Enter a song name\"\n                value={songName}\n                onChange={handleNameChange}\n              />\n            </div>\n          </form>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button\n            type=\"submit\"\n            className=\"btn btn-primary\"\n            onClick={handleDialogSubmit}\n          >Submit</Button>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n}\n\nexport default UploadDialog","/home/jan/SoundTrackBoxFrontend/src/components/MusicCollection/Song.js",["73","74"],"import React from 'react';\nimport axios from 'axios';\nimport { API_BASE_URL, ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\nimport Cookies from 'universal-cookie';\n\nconst Song = (props) => {\n\n    const deleteSong = () => {\n        const cookies = new Cookies();\n        Promise.resolve(deleteSongPost(props.playlistID, props.songID)).then((result) => props.parentCallback(result));\n        if (cookies.get('songID') === props.songID) {\n            props.updateCurrentSong(undefined, undefined);\n        }\n    }\n\n    const deleteSongPost = async (playlistID, songID) => {\n        return axios.post(API_BASE_URL + '/media/deleteSong', { playlistID: playlistID, songID: songID }, { headers: { \"auth-token\": localStorage.getItem(ACCESS_TOKEN_NAME) } })\n            .then(function (response) {\n                if (response.status === 200) {\n                    return response.data.affected;\n                }\n            }\n            )\n            .catch(function (error) {\n                console.log(error);\n            })\n    }\n\n    const handleOnClick = () => {\n        props.updateCurrentSong(props.songName, props.songID)\n    }\n\n        return (\n            <div className=\"row bg-light\">\n                <div id=\"delete-song\" className=\"nav-item dropdown\">\n                    <a className=\"dropdown-toggle\"\n                        data-toggle=\"dropdown\"\n                        aria-haspopup=\"true\"\n                        aria-expanded=\"false\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-file-music-fill\" viewBox=\"0 0 16 16\">\n                            <path d=\"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm-.5 4.11v1.8l-2.5.5v5.09c0 .495-.301.883-.662 1.123C7.974 12.866 7.499 13 7 13c-.5 0-.974-.134-1.338-.377-.36-.24-.662-.628-.662-1.123s.301-.883.662-1.123C6.026 10.134 6.501 10 7 10c.356 0 .7.068 1 .196V4.41a1 1 0 0 1 .804-.98l1.5-.3a1 1 0 0 1 1.196.98z\" />\n                        </svg>\n                    </a>\n                    <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdownMenuLink\">\n                        <a className=\"dropdown-item\" onClick={deleteSong}>Delete this song</a>\n                    </div>\n                </div>\n                <button className=\"btn flex-fill\" onClick={handleOnClick}>{props.songName}</button>\n            </div>\n        );\n}\n\nexport default Song;","/home/jan/SoundTrackBoxFrontend/src/components/MainComponents/Player.js",[],"/home/jan/SoundTrackBoxFrontend/src/components/MainComponents/Header.js",["75","76","77"],"import { withRouter } from \"react-router-dom\";\nimport { ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\nimport axios from 'axios';\nimport { API_BASE_URL } from '../../constants/apiConstants'\nimport Cookies from 'universal-cookie';\n\nconst Header = (props) => {\n\n    const onSelection = () => {\n        if (localStorage.getItem(ACCESS_TOKEN_NAME)) {\n            localStorage.removeItem(ACCESS_TOKEN_NAME);\n            props.history.push('/');\n        } else {\n            props.history.push('/login');\n        }\n    }\n\n    const onAccountDeletion = () => {\n        Promise.resolve(deleteUser(props.playlistID)).then(() => {\n            localStorage.removeItem(ACCESS_TOKEN_NAME);\n            const cookies = new Cookies();\n            cookies.remove('songName', { path: '/', secure: true });\n            cookies.remove('songID', { path: '/', secure: true });\n            window.location.reload();\n        }\n        );\n    }\n\n    const deleteUser = async () => {\n        return axios.post(API_BASE_URL + '/user/deleteUser', {}, { headers: { \"auth-token\": localStorage.getItem(ACCESS_TOKEN_NAME) } })\n            .catch(function (error) {\n                console.log(error);\n            })\n    }\n\n    return (\n        <nav className=\"navbar text-white bg-dark flex-fill\">\n            <div className=\"nav-item dropdown\">\n                <a className=\"dropdown-toggle\"\n                    data-toggle=\"dropdown\"\n                    aria-haspopup=\"true\"\n                    aria-expanded=\"false\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"26\" height=\"26\"\n                        fill={localStorage.getItem(ACCESS_TOKEN_NAME) ? \"orange\" : \"currentColor\"}\n                        className=\"bi bi-file-person-fill\"\n                        viewBox=\"0 0 16 16\">\n                        <path d=\"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm-1 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm-3 4c2.623 0 4.146.826 5 1.755V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-1.245C3.854 11.825 5.377 11 8 11z\" />\n                    </svg>\n                </a>\n                <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdownMenuLink\">\n                    <a className=\"dropdown-item\" onClick={onSelection}>{localStorage.getItem(ACCESS_TOKEN_NAME) ? 'Logout' : 'Login'}</a>\n                    <a className={localStorage.getItem(ACCESS_TOKEN_NAME) ? 'dropdown-item' : ''} onClick={onAccountDeletion} href=\"#\">{localStorage.getItem(ACCESS_TOKEN_NAME) ? 'Delete account' : ''}</a>\n                </div>\n            </div>\n            <h5>Sound Track Box</h5>\n        </nav>\n    );\n}\n\nexport default withRouter(Header);",{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":2,"column":10,"nodeType":"84","messageId":"85","endLine":2,"endColumn":18},{"ruleId":"86","severity":1,"message":"87","line":27,"column":45,"nodeType":"88","messageId":"89","endLine":27,"endColumn":47},{"ruleId":"90","severity":1,"message":"91","line":94,"column":21,"nodeType":"92","endLine":96,"endColumn":47},{"ruleId":"90","severity":1,"message":"91","line":103,"column":25,"nodeType":"92","endLine":103,"endColumn":79},{"ruleId":"82","severity":1,"message":"93","line":9,"column":10,"nodeType":"84","messageId":"85","endLine":9,"endColumn":17},{"ruleId":"82","severity":1,"message":"94","line":16,"column":9,"nodeType":"84","messageId":"85","endLine":16,"endColumn":24},{"ruleId":"90","severity":1,"message":"91","line":47,"column":7,"nodeType":"92","endLine":47,"endColumn":63},{"ruleId":"90","severity":1,"message":"91","line":36,"column":21,"nodeType":"92","endLine":39,"endColumn":47},{"ruleId":"90","severity":1,"message":"91","line":45,"column":25,"nodeType":"92","endLine":45,"endColumn":75},{"ruleId":"90","severity":1,"message":"91","line":39,"column":17,"nodeType":"92","endLine":42,"endColumn":43},{"ruleId":"90","severity":1,"message":"91","line":52,"column":21,"nodeType":"92","endLine":52,"endColumn":72},{"ruleId":"90","severity":1,"message":"95","line":53,"column":21,"nodeType":"92","endLine":53,"endColumn":136},"no-native-reassign",["96"],"no-negated-in-lhs",["97"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'songUrl' is assigned a value but never used.","'handleUrlChange' is assigned a value but never used.","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","no-global-assign","no-unsafe-negation"]