{"ast":null,"code":"var _jsxFileName = \"/home/jan/SoundTrackBoxFrontend/src/components/MusicCollection/MusicCollection.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Playlist from './Playlist';\nimport { API_BASE_URL, ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\nimport CreatePlaylistDialog from '../Dialogs/CreatePlaylistDialog';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MusicCollection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      songCollection: []\n    };\n    this.onChangePlaylists = this.onChangePlaylists.bind(this);\n    this.handleSongUpload = this.handleSongUpload.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      songCollection: this.loadMusicCollection()\n    });\n  }\n\n  onChangePlaylists(playlistName) {\n    this.props.parentCallback(playlistName);\n  }\n\n  handleSongUpload(songName, songUrl) {\n    this.setState({\n      songCollection: [...this.state.songCollection, {\n        songName: songName,\n        songUrl: songUrl\n      }]\n    });\n  }\n\n  loadMusicCollection() {\n    let musicCollectionPromise = axios.get(API_BASE_URL + '/media/loadMusicCollection', {\n      headers: {\n        \"auth-token\": localStorage.getItem(ACCESS_TOKEN_NAME)\n      }\n    }).then(function (response) {\n      if (response.status === 200) {\n        return JSON.stringify(response.data);\n      } else {\n        console.log(\"loading music collection did not work\");\n      }\n    }).catch(function (error) {\n      console.log(\"loading music collection did not work because of an error\");\n    });\n    Promise.resolve(musicCollectionPromise).then(value => this.retrieveMusicCollection(value));\n  }\n\n  retrieveMusicCollection(value) {\n    var obj = JSON.parse(value);\n    console.log(obj);\n\n    for (var k in obj) {\n      console.log(obj[k]);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(CreatePlaylistDialog, {\n        parentCallback: this.onChangePlaylists\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n        children: this.props.playlistCollection.map((playlist, index) => {\n          return /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: /*#__PURE__*/_jsxDEV(Playlist, {\n              playlistName: playlist,\n              songCollection: this.state.songCollection,\n              parentCallback: this.handleSongUpload\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 33\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default MusicCollection;","map":{"version":3,"sources":["/home/jan/SoundTrackBoxFrontend/src/components/MusicCollection/MusicCollection.js"],"names":["React","axios","ListGroup","Playlist","API_BASE_URL","ACCESS_TOKEN_NAME","CreatePlaylistDialog","MusicCollection","Component","constructor","props","state","songCollection","onChangePlaylists","bind","handleSongUpload","componentDidMount","setState","loadMusicCollection","playlistName","parentCallback","songName","songUrl","musicCollectionPromise","get","headers","localStorage","getItem","then","response","status","JSON","stringify","data","console","log","catch","error","Promise","resolve","value","retrieveMusicCollection","obj","parse","k","render","playlistCollection","map","playlist","index"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Playlist from './Playlist';\nimport { API_BASE_URL, ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\n\nimport CreatePlaylistDialog from '../Dialogs/CreatePlaylistDialog'\n\nclass MusicCollection extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            songCollection: [],\n        }\n        this.onChangePlaylists = this.onChangePlaylists.bind(this);\n        this.handleSongUpload = this.handleSongUpload.bind(this);\n    }\n\n    componentDidMount() {\n        this.setState({\n            songCollection: this.loadMusicCollection(),\n        })\n    }\n\n    onChangePlaylists(playlistName) {\n        this.props.parentCallback(playlistName);\n    }\n\n    handleSongUpload(songName, songUrl) {\n        this.setState({\n            songCollection: [...this.state.songCollection, { songName: songName, songUrl: songUrl }],\n        })\n    }\n\n    loadMusicCollection() {\n        let musicCollectionPromise = axios.get(API_BASE_URL + '/media/loadMusicCollection', { headers: { \"auth-token\": localStorage.getItem(ACCESS_TOKEN_NAME) } })\n            .then(function (response) {\n                if (response.status === 200) {\n                    return JSON.stringify(response.data);\n                }\n                else {\n                    console.log(\"loading music collection did not work\");\n                }\n            })\n            .catch(function (error) {\n                console.log(\"loading music collection did not work because of an error\");\n            });\n\n        Promise.resolve(musicCollectionPromise).then((value) => this.retrieveMusicCollection(value));\n    }\n\n    retrieveMusicCollection(value) {\n        var obj = JSON.parse(value);\n\n        console.log(obj);\n        for (var k in obj) {\n            console.log(obj[k]);\n        }\n    }\n\n    render() {\n        return (\n            <div><CreatePlaylistDialog parentCallback={this.onChangePlaylists}>\n            </CreatePlaylistDialog>\n                <ListGroup>\n                    {this.props.playlistCollection.map((playlist, index) => {\n                        return (\n                            <ListGroup.Item key={index}>\n                                <Playlist playlistName={playlist} songCollection={this.state.songCollection} parentCallback={this.handleSongUpload}></Playlist>\n                            </ListGroup.Item>\n                        )\n                    })}\n                </ListGroup>\n            </div>\n        )\n    }\n}\n\nexport default MusicCollection;"]},"metadata":{},"sourceType":"module"}