{"ast":null,"code":"var _jsxFileName = \"/home/jan/sound-track-box/src/components/UserPanel/UserNavBar.js\";\nimport React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport AppBar from '@material-ui/core/AppBar';\nimport { ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UserNavBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.openMenu = event => {\n      this.setState({\n        anchorEl: event.currentTarget,\n        isOpen: true\n      });\n    };\n\n    this.closeMenu = () => {\n      this.setState({\n        anchorEl: null,\n        isOpen: false\n      });\n\n      if (this.state.isLoggedIn) {\n        this.props.history.push('/login');\n      }\n    };\n\n    this.state = {\n      anchorEl: null | HTMLElement,\n      isOpen: false\n    };\n    this.onSelection = this.onSelection.bind(this);\n    this.myRef = /*#__PURE__*/React.createRef();\n  }\n\n  onSelection() {\n    this.setState({\n      anchorEl: null,\n      isOpen: false\n    });\n\n    if (this.props.isLoggedIn) {\n      localStorage.removeItem(ACCESS_TOKEN_NAME);\n      this.props.history.push('/');\n    } else {\n      this.props.history.push('/login');\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        class: \"navbar navbar-light bg-light\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"26\",\n          height: \"26\",\n          fill: \"currentColor\",\n          className: \"bi bi-file-person-fill\",\n          viewBox: \"0 0 16 16\",\n          onClick: this.openMenu,\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm-1 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm-3 4c2.623 0 4.146.826 5 1.755V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-1.245C3.854 11.825 5.377 11 8 11z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"static\",\n        children: /*#__PURE__*/_jsxDEV(Toolbar, {\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            edge: \"start\",\n            color: \"inherit\",\n            \"aria-label\": \"menu\",\n            children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(IconButton, {\n              \"aria-label\": \"account of current user\",\n              \"aria-controls\": \"menu-appbar\",\n              \"aria-haspopup\": \"true\",\n              onClick: this.openMenu,\n              color: \"inherit\",\n              children: /*#__PURE__*/_jsxDEV(AccountCircle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Menu, {\n              id: \"menu-appbar\",\n              anchorEl: this.state.anchorEl,\n              anchorOrigin: {\n                vertical: 'top',\n                horizontal: 'right'\n              },\n              keepMounted: true,\n              transformOrigin: {\n                vertical: 'top',\n                horizontal: 'right'\n              },\n              open: this.state.isOpen,\n              onClose: this.closeMenu,\n              children: /*#__PURE__*/_jsxDEV(MenuItem, {\n                onClick: this.onSelection,\n                children: this.props.isLoggedIn ? 'Logout' : 'Login'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(UserNavBar);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/jan/sound-track-box/src/components/UserPanel/UserNavBar.js"],"names":["React","withRouter","Toolbar","IconButton","MenuIcon","MenuItem","Menu","AccountCircle","AppBar","ACCESS_TOKEN_NAME","UserNavBar","Component","constructor","props","openMenu","event","setState","anchorEl","currentTarget","isOpen","closeMenu","state","isLoggedIn","history","push","HTMLElement","onSelection","bind","myRef","createRef","localStorage","removeItem","render","vertical","horizontal"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { withRouter } from \"react-router-dom\";\n\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport AppBar from '@material-ui/core/AppBar';\n\nimport { ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\n\nclass UserNavBar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            anchorEl: null | HTMLElement,\n            isOpen: false,\n        }\n        this.onSelection = this.onSelection.bind(this);\n        this.myRef = React.createRef();\n    }\n\n    openMenu = (event) => {\n        this.setState({ anchorEl: event.currentTarget, isOpen: true });\n    };\n\n    closeMenu = () => {\n        this.setState({\n            anchorEl: null,\n            isOpen: false\n        })\n        if (this.state.isLoggedIn) {\n            this.props.history.push('/login');\n        }\n    }\n\n    onSelection() {\n        this.setState({\n            anchorEl: null,\n            isOpen: false\n        })\n        if (this.props.isLoggedIn) {\n            localStorage.removeItem(ACCESS_TOKEN_NAME);\n            this.props.history.push('/');\n        } else {\n            this.props.history.push('/login');\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <nav class=\"navbar navbar-light bg-light\">\n                    <svg \n                    xmlns=\"http://www.w3.org/2000/svg\" \n                    width=\"26\" \n                    height=\"26\" \n                    fill=\"currentColor\" \n                    className=\"bi bi-file-person-fill\" \n                    viewBox=\"0 0 16 16\"\n                    onClick={this.openMenu}\n                    >\n                        <path d=\"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm-1 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm-3 4c2.623 0 4.146.826 5 1.755V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-1.245C3.854 11.825 5.377 11 8 11z\" />\n                    </svg>\n                </nav>\n\n                <AppBar position=\"static\">\n                    <Toolbar>\n                        <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">\n                            <MenuIcon />\n                        </IconButton>\n                        <div>\n                            <IconButton\n                                aria-label=\"account of current user\"\n                                aria-controls=\"menu-appbar\"\n                                aria-haspopup=\"true\"\n                                onClick={this.openMenu}\n                                color=\"inherit\"\n                            >\n                                <AccountCircle />\n                            </IconButton>\n                            <Menu\n                                id=\"menu-appbar\"\n                                anchorEl={this.state.anchorEl}\n                                anchorOrigin={{\n                                    vertical: 'top',\n                                    horizontal: 'right',\n                                }}\n                                keepMounted\n                                transformOrigin={{\n                                    vertical: 'top',\n                                    horizontal: 'right',\n                                }}\n                                open={this.state.isOpen}\n                                onClose={this.closeMenu}\n                            >\n                                <MenuItem onClick={this.onSelection}>{this.props.isLoggedIn ? 'Logout' : 'Login'}</MenuItem>\n                            </Menu>\n                        </div>\n                    </Toolbar>\n                </AppBar>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(UserNavBar);"]},"metadata":{},"sourceType":"module"}