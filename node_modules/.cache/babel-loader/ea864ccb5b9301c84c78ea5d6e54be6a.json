{"ast":null,"code":"var _jsxFileName = \"/home/jan/sound-track-box/src/components/UserPanel/UserNavBar.js\";\nimport React from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport AppBar from '@material-ui/core/AppBar';\nimport { ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UserNavBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.openMenu = event => {\n      this.setState({\n        anchorEl: event.currentTarget,\n        isOpen: true\n      });\n    };\n\n    this.closeMenu = () => {\n      this.setState({\n        anchorEl: null,\n        isOpen: false\n      });\n\n      if (this.state.isLoggedIn) {\n        this.props.history.push('/login');\n      }\n    };\n\n    this.state = {\n      anchorEl: null | HTMLElement,\n      isOpen: false\n    };\n    this.onSelection = this.onSelection.bind(this);\n  }\n\n  onSelection() {\n    this.setState({\n      anchorEl: null,\n      isOpen: false\n    });\n\n    if (this.props.isLoggedIn) {\n      localStorage.removeItem(ACCESS_TOKEN_NAME);\n    }\n\n    this.props.history.push('/login');\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          edge: \"start\",\n          color: \"inherit\",\n          \"aria-label\": \"menu\",\n          children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            \"aria-label\": \"account of current user\",\n            \"aria-controls\": \"menu-appbar\",\n            \"aria-haspopup\": \"true\",\n            onClick: this.openMenu,\n            color: \"inherit\",\n            children: /*#__PURE__*/_jsxDEV(AccountCircle, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Menu, {\n            id: \"menu-appbar\",\n            anchorEl: this.state.anchorEl,\n            anchorOrigin: {\n              vertical: 'top',\n              horizontal: 'right'\n            },\n            keepMounted: true,\n            transformOrigin: {\n              vertical: 'top',\n              horizontal: 'right'\n            },\n            open: this.state.isOpen,\n            onClose: this.closeMenu,\n            children: /*#__PURE__*/_jsxDEV(MenuItem, {\n              onClick: this.onSelection,\n              children: this.props.isLoggedIn ? 'Logout' : 'Login'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(UserNavBar);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/jan/sound-track-box/src/components/UserPanel/UserNavBar.js"],"names":["React","withRouter","Toolbar","IconButton","MenuIcon","MenuItem","Menu","AccountCircle","AppBar","ACCESS_TOKEN_NAME","UserNavBar","Component","constructor","props","openMenu","event","setState","anchorEl","currentTarget","isOpen","closeMenu","state","isLoggedIn","history","push","HTMLElement","onSelection","bind","localStorage","removeItem","render","vertical","horizontal"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { withRouter } from \"react-router-dom\";\n\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport AppBar from '@material-ui/core/AppBar';\n\nimport { ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\n\nclass UserNavBar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            anchorEl: null | HTMLElement,\n            isOpen: false,\n        }\n        this.onSelection = this.onSelection.bind(this);\n    }\n\n    openMenu = (event) => {\n        this.setState({ anchorEl: event.currentTarget, isOpen: true });\n    };\n\n    closeMenu = () => {\n        this.setState({\n            anchorEl: null,\n            isOpen: false\n        })\n        if (this.state.isLoggedIn) {\n            this.props.history.push('/login');\n        }\n    }\n\n    onSelection() {\n        this.setState({\n            anchorEl: null,\n            isOpen: false\n        })\n        if (this.props.isLoggedIn) {\n            localStorage.removeItem(ACCESS_TOKEN_NAME);\n        }\n        this.props.history.push('/login');\n    }\n\n    render() {\n        return (\n            <AppBar position=\"static\">\n                <Toolbar>\n                    <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">\n                        <MenuIcon />\n                    </IconButton>\n                    <div>\n                        <IconButton\n                            aria-label=\"account of current user\"\n                            aria-controls=\"menu-appbar\"\n                            aria-haspopup=\"true\"\n                            onClick={this.openMenu}\n                            color=\"inherit\"\n                        >\n                            <AccountCircle />\n                        </IconButton>\n                        <Menu\n                            id=\"menu-appbar\"\n                            anchorEl={this.state.anchorEl}\n                            anchorOrigin={{\n                                vertical: 'top',\n                                horizontal: 'right',\n                            }}\n                            keepMounted\n                            transformOrigin={{\n                                vertical: 'top',\n                                horizontal: 'right',\n                            }}\n                            open={this.state.isOpen}\n                            onClose={this.closeMenu}\n                        >\n                            <MenuItem onClick={this.onSelection}>{this.props.isLoggedIn ? 'Logout' : 'Login'}</MenuItem>\n                        </Menu>\n                    </div>\n                </Toolbar>\n            </AppBar>\n        );\n    }\n}\n\nexport default withRouter(UserNavBar);"]},"metadata":{},"sourceType":"module"}