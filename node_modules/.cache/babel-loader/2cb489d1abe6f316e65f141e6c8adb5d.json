{"ast":null,"code":"import _classCallCheck from\"/home/jan/SoundTrackBoxFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jan/SoundTrackBoxFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/jan/SoundTrackBoxFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/jan/SoundTrackBoxFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jan/SoundTrackBoxFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{BrowserRouter as Router,Switch,Route}from\"react-router-dom\";import Cookies from'universal-cookie';import PrivateRoute from'../../../utils/PrivateRoute';import MusicCollection from'../../MusicCollection/MusicCollection';import RegistrationForm from'../../Dialogs/RegistrationForm';import LoginForm from'../../Dialogs/LoginForm';import Header from'../Header/Header';import Player from'../Player';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MediaPlayer=/*#__PURE__*/function(_React$Component){_inherits(MediaPlayer,_React$Component);var _super=_createSuper(MediaPlayer);function MediaPlayer(props){var _this;_classCallCheck(this,MediaPlayer);_this=_super.call(this,props);var cookies=new Cookies();_this.state={currentSongName:cookies.get('songName'),currentSongID:cookies.get('songID')};_this.updateCurrentSong=_this.updateCurrentSong.bind(_assertThisInitialized(_this));return _this;}_createClass(MediaPlayer,[{key:\"updateCurrentSong\",value:function updateCurrentSong(songName,songID){var cookies=new Cookies();this.setState({currentSongName:songName,currentSongID:songID});if(songID){cookies.set('songName',songName,{path:'/',secure:true});cookies.set('songID',songID,{path:'/',secure:true});}else{cookies.remove('songName',songName,{path:'/',secure:true});cookies.remove('songID',songID,{path:'/',secure:true});}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/register\",children:/*#__PURE__*/_jsx(RegistrationForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",children:/*#__PURE__*/_jsx(LoginForm,{})}),/*#__PURE__*/_jsxs(PrivateRoute,{path:\"/\",children:[/*#__PURE__*/_jsx(MusicCollection,{updateCurrentSong:this.updateCurrentSong}),/*#__PURE__*/_jsx(Player,{currentSongName:this.state.currentSongName,currentSongID:this.state.currentSongID,changedFrequencyCallback:this.props.setCurrentFrequency})]})]})]})});}}]);return MediaPlayer;}(React.Component);export default MediaPlayer;","map":{"version":3,"sources":["/home/jan/SoundTrackBoxFrontend/src/components/MainComponents/MediaPlayer/MediaPlayer.js"],"names":["React","BrowserRouter","Router","Switch","Route","Cookies","PrivateRoute","MusicCollection","RegistrationForm","LoginForm","Header","Player","MediaPlayer","props","cookies","state","currentSongName","get","currentSongID","updateCurrentSong","bind","songName","songID","setState","set","path","secure","remove","setCurrentFrequency","Component"],"mappings":"8uBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACIC,aAAa,GAAIC,CAAAA,MADrB,CAEIC,MAFJ,CAGIC,KAHJ,KAIO,kBAJP,CAKA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CAEA,MAAOC,CAAAA,eAAP,KAA4B,uCAA5B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,gCAA7B,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,C,2FAEMC,CAAAA,W,sHAEF,qBAAYC,KAAZ,CAAmB,6CACf,uBAAMA,KAAN,EACA,GAAMC,CAAAA,OAAO,CAAG,GAAIT,CAAAA,OAAJ,EAAhB,CACA,MAAKU,KAAL,CAAa,CACTC,eAAe,CAAEF,OAAO,CAACG,GAAR,CAAY,UAAZ,CADR,CAETC,aAAa,CAAEJ,OAAO,CAACG,GAAR,CAAY,QAAZ,CAFN,CAAb,CAIA,MAAKE,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,+BAAzB,CAPe,aAQlB,C,yDAED,2BAAkBC,QAAlB,CAA4BC,MAA5B,CAAoC,CAChC,GAAMR,CAAAA,OAAO,CAAG,GAAIT,CAAAA,OAAJ,EAAhB,CACA,KAAKkB,QAAL,CAAc,CACVP,eAAe,CAAEK,QADP,CAEVH,aAAa,CAAEI,MAFL,CAAd,EAIA,GAAGA,MAAH,CAAU,CACNR,OAAO,CAACU,GAAR,CAAY,UAAZ,CAAwBH,QAAxB,CAAkC,CAAEI,IAAI,CAAE,GAAR,CAAcC,MAAM,CAAE,IAAtB,CAAlC,EACAZ,OAAO,CAACU,GAAR,CAAY,QAAZ,CAAsBF,MAAtB,CAA8B,CAAEG,IAAI,CAAE,GAAR,CAAcC,MAAM,CAAE,IAAtB,CAA9B,EACH,CAHD,IAGO,CACHZ,OAAO,CAACa,MAAR,CAAe,UAAf,CAA2BN,QAA3B,CAAqC,CAAEI,IAAI,CAAE,GAAR,CAAcC,MAAM,CAAE,IAAtB,CAArC,EACAZ,OAAO,CAACa,MAAR,CAAe,QAAf,CAAyBL,MAAzB,CAAiC,CAAEG,IAAI,CAAE,GAAR,CAAcC,MAAM,CAAE,IAAtB,CAAjC,EACH,CACJ,C,sBAED,iBAAS,CACL,mBACI,KAAC,MAAD,wBACI,oCACI,KAAC,MAAD,IADJ,cAEI,MAAC,MAAD,yBACI,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,uBACI,KAAC,gBAAD,IADJ,EADJ,cAII,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,uBACI,KAAC,SAAD,IADJ,EAJJ,cAOI,MAAC,YAAD,EAAc,IAAI,CAAC,GAAnB,wBACI,KAAC,eAAD,EACI,iBAAiB,CAAE,KAAKP,iBAD5B,EADJ,cAII,KAAC,MAAD,EACI,eAAe,CAAE,KAAKJ,KAAL,CAAWC,eADhC,CAEI,aAAa,CAAE,KAAKD,KAAL,CAAWG,aAF9B,CAGI,wBAAwB,CAAE,KAAKL,KAAL,CAAWe,mBAHzC,EAJJ,GAPJ,GAFJ,GADJ,EADJ,CA0BH,C,yBAtDqB5B,KAAK,CAAC6B,S,EAyDhC,cAAejB,CAAAA,WAAf","sourcesContent":["import React from 'react';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route\n} from \"react-router-dom\";\nimport Cookies from 'universal-cookie';\nimport PrivateRoute from '../../../utils/PrivateRoute';\n\nimport MusicCollection from '../../MusicCollection/MusicCollection';\nimport RegistrationForm from '../../Dialogs/RegistrationForm';\nimport LoginForm from '../../Dialogs/LoginForm';\nimport Header from '../Header/Header';\nimport Player from '../Player';\n\nclass MediaPlayer extends React.Component {\n\n    constructor(props) {\n        super(props);\n        const cookies = new Cookies();\n        this.state = {\n            currentSongName: cookies.get('songName'),\n            currentSongID: cookies.get('songID'),\n        }\n        this.updateCurrentSong = this.updateCurrentSong.bind(this);\n    }\n\n    updateCurrentSong(songName, songID) {\n        const cookies = new Cookies();\n        this.setState({\n            currentSongName: songName,\n            currentSongID: songID,\n        });\n        if(songID){\n            cookies.set('songName', songName, { path: '/' , secure: true});\n            cookies.set('songID', songID, { path: '/' , secure: true});\n        } else {\n            cookies.remove('songName', songName, { path: '/' , secure: true});\n            cookies.remove('songID', songID, { path: '/' , secure: true});\n        }\n    }\n\n    render() {\n        return (\n            <Router>\n                <div>\n                    <Header />\n                    <Switch>\n                        <Route path=\"/register\">\n                            <RegistrationForm />\n                        </Route>\n                        <Route path=\"/login\">\n                            <LoginForm />\n                        </Route>\n                        <PrivateRoute path=\"/\">\n                            <MusicCollection\n                                updateCurrentSong={this.updateCurrentSong}\n                            ></MusicCollection>\n                            <Player\n                                currentSongName={this.state.currentSongName}\n                                currentSongID={this.state.currentSongID}\n                                changedFrequencyCallback={this.props.setCurrentFrequency}\n                            >\n                            </Player>\n                        </PrivateRoute>\n                    </Switch>\n                </div>\n            </Router>\n        );\n    }\n}\n\nexport default MediaPlayer;"]},"metadata":{},"sourceType":"module"}