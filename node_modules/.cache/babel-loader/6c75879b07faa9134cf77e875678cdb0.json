{"ast":null,"code":"var _jsxFileName = \"/home/jan/SoundTrackBoxFrontend/src/components/MusicCollection/MusicCollection.js\";\nimport React from 'react';\nimport './MusicCollection.scss';\nimport axios from 'axios';\nimport Playlist from './Playlist';\nimport { API_BASE_URL, ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\nimport addPlaylist from '../../utils/network';\nimport CreatePlaylistDialog from '../Dialogs/CreatePlaylistDialog';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MusicCollection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playlistCollection: null\n    };\n    this.onChangePlaylists = this.onChangePlaylists.bind(this);\n    this.reloadCollection = this.reloadCollection.bind(this);\n    this.onSongChange = this.onSongChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.reloadCollection();\n  }\n\n  onChangePlaylists(playlistName) {\n    Promise.resolve().then(addPlaylist(playlistName).then(result => {\n      console.log(result);\n    }));\n  }\n\n  onSongChange(result) {\n    this.setState({\n      playlistCollection: result\n    });\n  }\n\n  async loadMusicCollectionGet() {\n    var data = axios.get(API_BASE_URL + '/media/loadMusicCollection', {\n      headers: {\n        \"auth-token\": localStorage.getItem(ACCESS_TOKEN_NAME)\n      }\n    }).then(res => {\n      return res.data;\n    }).catch(function (error) {\n      console.log(error);\n    });\n    return data;\n  }\n\n  reloadCollection() {\n    Promise.resolve(this.loadMusicCollectionGet()).then(collection => {\n      this.setState({\n        playlistCollection: collection\n      });\n    });\n  }\n\n  render() {\n    if (this.state.playlistCollection) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row bg-secondary\",\n          children: [/*#__PURE__*/_jsxDEV(CreatePlaylistDialog, {\n            parentCallback: this.onChangePlaylists\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this), this.state.playlistCollection['musicCollection'].map(playlist => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-12\",\n              children: /*#__PURE__*/_jsxDEV(Playlist, {\n                playlistName: playlist.name,\n                playlistID: playlist._id,\n                songCollection: playlist.songList ? playlist.songList : [],\n                parentCallback: this.onSongChange,\n                updateCurrentSong: this.props.updateCurrentSong\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 45\n              }, this)\n            }, playlist._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 41\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner-border\",\n          role: \"status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"sr-only\",\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}\n\nexport default MusicCollection;","map":{"version":3,"sources":["/home/jan/SoundTrackBoxFrontend/src/components/MusicCollection/MusicCollection.js"],"names":["React","axios","Playlist","API_BASE_URL","ACCESS_TOKEN_NAME","addPlaylist","CreatePlaylistDialog","MusicCollection","Component","constructor","props","state","playlistCollection","onChangePlaylists","bind","reloadCollection","onSongChange","componentDidMount","playlistName","Promise","resolve","then","result","console","log","setState","loadMusicCollectionGet","data","get","headers","localStorage","getItem","res","catch","error","collection","render","map","playlist","name","_id","songList","updateCurrentSong"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './MusicCollection.scss';\nimport axios from 'axios';\nimport Playlist from './Playlist';\nimport { API_BASE_URL, ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\n\nimport addPlaylist from '../../utils/network';\n\nimport CreatePlaylistDialog from '../Dialogs/CreatePlaylistDialog'\n\nclass MusicCollection extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            playlistCollection: null,\n        }\n        this.onChangePlaylists = this.onChangePlaylists.bind(this);\n        this.reloadCollection = this.reloadCollection.bind(this);\n        this.onSongChange = this.onSongChange.bind(this);\n    }\n\n    componentDidMount() {\n        this.reloadCollection();\n    }\n\n    onChangePlaylists(playlistName) {\n        Promise.resolve()\n            .then(addPlaylist(playlistName).then(result => {\n                console.log(result);\n            }));\n    }\n\n    onSongChange(result) {\n        this.setState({\n            playlistCollection: result\n        });\n    }\n\n    async loadMusicCollectionGet() {\n        var data = axios.get(API_BASE_URL + '/media/loadMusicCollection', { headers: { \"auth-token\": localStorage.getItem(ACCESS_TOKEN_NAME) } })\n            .then(res => { return res.data }).catch(function (error) {\n                console.log(error);\n            })\n        return data;\n    }\n\n    reloadCollection() {\n        Promise.resolve(this.loadMusicCollectionGet()).then((collection) => {\n            this.setState({\n                playlistCollection: collection\n            });\n        })\n    }\n\n    render() {\n        if (this.state.playlistCollection) {\n            return (\n                    <div className=\"container-fluid\">\n                        <div className=\"row bg-secondary\">\n                            <CreatePlaylistDialog parentCallback={this.onChangePlaylists} />\n                            {\n                                this.state.playlistCollection['musicCollection'].map((playlist) => {\n                                    return (\n                                        <div key={playlist._id} className=\"col-md-12\">\n                                            <Playlist\n                                                playlistName={playlist.name}\n                                                playlistID={playlist._id}\n                                                songCollection={playlist.songList ? playlist.songList : []}\n                                                parentCallback={this.onSongChange}\n                                                updateCurrentSong={this.props.updateCurrentSong}\n                                            >\n                                            </Playlist>\n                                        </div>\n                                    )\n                                })}\n                        </div>\n                    </div>\n            )\n        } else {\n            return (\n                <div className=\"d-flex justify-content-center\">\n                    <div className=\"spinner-border\" role=\"status\">\n                        <span className=\"sr-only\">Loading...</span>\n                    </div>\n                </div>\n            )\n        }\n    }\n}\n\nexport default MusicCollection;"]},"metadata":{},"sourceType":"module"}