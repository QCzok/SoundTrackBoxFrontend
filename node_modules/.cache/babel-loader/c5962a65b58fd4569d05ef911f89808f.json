{"ast":null,"code":"var _jsxFileName = \"/home/jan/SoundTrackBoxFrontend/src/components/MusicCollection/MusicCollection.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Playlist from './Playlist';\nimport { API_BASE_URL, ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\nimport CreatePlaylistDialog from '../Dialogs/CreatePlaylistDialog';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MusicCollection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playlistCollection: [],\n      isLoaded: false,\n      songCollection: []\n    };\n    this.onChangePlaylists = this.onChangePlaylists.bind(this);\n    this.handleSongUpload = this.handleSongUpload.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get(API_BASE_URL + '/media/loadMusicCollection', {\n      headers: {\n        \"auth-token\": localStorage.getItem(ACCESS_TOKEN_NAME)\n      }\n    }).then(res => this.setState({\n      playlistCollection: res.data,\n      isLoaded: true\n    }));\n  }\n\n  onChangePlaylists(playlistName) {\n    this.props.parentCallback(playlistName);\n  }\n\n  handleSongUpload(songName, songUrl) {\n    this.setState({\n      songCollection: [...this.state.songCollection, {\n        songName: songName,\n        songUrl: songUrl\n      }]\n    });\n  }\n\n  render() {\n    var isLoaded = this.state.isLoaded;\n    var playlistCollection = this.state.playlistCollection;\n\n    if (isLoaded) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(CreatePlaylistDialog, {\n          parentCallback: this.onChangePlaylists\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n          children: [\"if(this.state.playlistCollection.hasOwnProperty('musicCollection'))\", this.state.playlistCollection['musicCollection'].map((playlist, index) => {\n            console.log(playlist.name);\n            return /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Playlist, {\n                playlistName: playlist,\n                songCollection: this.state.songCollection,\n                parentCallback: this.handleSongUpload\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 41\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 37\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" is loading \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}\n\nexport default MusicCollection;","map":{"version":3,"sources":["/home/jan/SoundTrackBoxFrontend/src/components/MusicCollection/MusicCollection.js"],"names":["React","axios","ListGroup","Playlist","API_BASE_URL","ACCESS_TOKEN_NAME","CreatePlaylistDialog","MusicCollection","Component","constructor","props","state","playlistCollection","isLoaded","songCollection","onChangePlaylists","bind","handleSongUpload","componentDidMount","get","headers","localStorage","getItem","then","res","setState","data","playlistName","parentCallback","songName","songUrl","render","map","playlist","index","console","log","name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,YAAT,EAAuBC,iBAAvB,QAAgD,8BAAhD;AAEA,OAAOC,oBAAP,MAAiC,iCAAjC;;;AAEA,MAAMC,eAAN,SAA8BP,KAAK,CAACQ,SAApC,CAA8C;AAC1CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,kBAAkB,EAAE,EADX;AAETC,MAAAA,QAAQ,EAAE,KAFD;AAGTC,MAAAA,cAAc,EAAE;AAHP,KAAb;AAKA,SAAKC,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKC,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBD,IAAtB,CAA2B,IAA3B,CAAxB;AACH;;AAEDE,EAAAA,iBAAiB,GAAG;AAChBjB,IAAAA,KAAK,CAACkB,GAAN,CAAUf,YAAY,GAAG,4BAAzB,EAAuD;AAAEgB,MAAAA,OAAO,EAAE;AAAE,sBAAcC,YAAY,CAACC,OAAb,CAAqBjB,iBAArB;AAAhB;AAAX,KAAvD,EACKkB,IADL,CACUC,GAAG,IACL,KAAKC,QAAL,CAAc;AACVb,MAAAA,kBAAkB,EAAEY,GAAG,CAACE,IADd;AAEVb,MAAAA,QAAQ,EAAE;AAFA,KAAd,CAFR;AAMH;;AAEDE,EAAAA,iBAAiB,CAACY,YAAD,EAAe;AAC5B,SAAKjB,KAAL,CAAWkB,cAAX,CAA0BD,YAA1B;AACH;;AAEDV,EAAAA,gBAAgB,CAACY,QAAD,EAAWC,OAAX,EAAoB;AAChC,SAAKL,QAAL,CAAc;AACVX,MAAAA,cAAc,EAAE,CAAC,GAAG,KAAKH,KAAL,CAAWG,cAAf,EAA+B;AAAEe,QAAAA,QAAQ,EAAEA,QAAZ;AAAsBC,QAAAA,OAAO,EAAEA;AAA/B,OAA/B;AADN,KAAd;AAGH;;AAEDC,EAAAA,MAAM,GAAG;AAEL,QAAIlB,QAAQ,GAAG,KAAKF,KAAL,CAAWE,QAA1B;AACA,QAAID,kBAAkB,GAAG,KAAKD,KAAL,CAAWC,kBAApC;;AAEA,QAAIC,QAAJ,EAAc;AAEV,0BACI;AAAA,gCAAK,QAAC,oBAAD;AAAsB,UAAA,cAAc,EAAE,KAAKE;AAA3C;AAAA;AAAA;AAAA;AAAA,gBAAL,eAEI,QAAC,SAAD;AAAA,4FAEQ,KAAKJ,KAAL,CAAWC,kBAAX,CAA8B,iBAA9B,EAAiDoB,GAAjD,CAAqD,CAACC,QAAD,EAAWC,KAAX,KAAqB;AACtEC,YAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACI,IAArB;AACA,gCACI,QAAC,SAAD,CAAW,IAAX;AAAA,qCACI,QAAC,QAAD;AAAU,gBAAA,YAAY,EAAEJ,QAAxB;AAAkC,gBAAA,cAAc,EAAE,KAAKtB,KAAL,CAAWG,cAA7D;AAA6E,gBAAA,cAAc,EAAE,KAAKG;AAAlG;AAAA;AAAA;AAAA;AAAA;AADJ,eAAqBiB,KAArB;AAAA;AAAA;AAAA;AAAA,oBADJ;AAKH,WAPD,CAFR;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAiBH,KAnBD,MAmBO;AACH,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAGH;AACJ;;AA5DyC;;AA+D9C,eAAe3B,eAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Playlist from './Playlist';\nimport { API_BASE_URL, ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\n\nimport CreatePlaylistDialog from '../Dialogs/CreatePlaylistDialog'\n\nclass MusicCollection extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            playlistCollection: [],\n            isLoaded: false,\n            songCollection: [],\n        }\n        this.onChangePlaylists = this.onChangePlaylists.bind(this);\n        this.handleSongUpload = this.handleSongUpload.bind(this);\n    }\n\n    componentDidMount() {\n        axios.get(API_BASE_URL + '/media/loadMusicCollection', { headers: { \"auth-token\": localStorage.getItem(ACCESS_TOKEN_NAME) } })\n            .then(res =>\n                this.setState({\n                    playlistCollection: res.data,\n                    isLoaded: true,\n                }))\n    }\n\n    onChangePlaylists(playlistName) {\n        this.props.parentCallback(playlistName);\n    }\n\n    handleSongUpload(songName, songUrl) {\n        this.setState({\n            songCollection: [...this.state.songCollection, { songName: songName, songUrl: songUrl }],\n        })\n    }\n\n    render() {\n\n        var isLoaded = this.state.isLoaded;\n        var playlistCollection = this.state.playlistCollection;\n\n        if (isLoaded) {\n\n            return (\n                <div><CreatePlaylistDialog parentCallback={this.onChangePlaylists}>\n                </CreatePlaylistDialog>\n                    <ListGroup>\n                        if(this.state.playlistCollection.hasOwnProperty('musicCollection')){\n                            this.state.playlistCollection['musicCollection'].map((playlist, index) => {\n                                console.log(playlist.name);\n                                return (\n                                    <ListGroup.Item key={index}>\n                                        <Playlist playlistName={playlist} songCollection={this.state.songCollection} parentCallback={this.handleSongUpload}></Playlist>\n                                    </ListGroup.Item>\n                                )\n                            })}\n\n                    </ListGroup>\n                </div>\n            )\n        } else {\n            return (\n                <h1> is loading </h1>\n            )\n        }\n    }\n}\n\nexport default MusicCollection;"]},"metadata":{},"sourceType":"module"}