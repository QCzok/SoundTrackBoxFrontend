{"ast":null,"code":"import _classCallCheck from\"/home/jan/SoundTrackBoxFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jan/SoundTrackBoxFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/jan/SoundTrackBoxFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/jan/SoundTrackBoxFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jan/SoundTrackBoxFrontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Button from'react-bootstrap/Button';import Modal from'react-bootstrap/Modal';import Form from'react-bootstrap/Form';import axios from'axios';import{API_BASE_URL,ACCESS_TOKEN_NAME}from'../../constants/apiConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UploadDialog=/*#__PURE__*/function(_React$Component){_inherits(UploadDialog,_React$Component);var _super=_createSuper(UploadDialog);function UploadDialog(props){var _this;_classCallCheck(this,UploadDialog);_this=_super.call(this,props);_this.handleDialogOpen=function(){_this.setState({open:true});};_this.handleDialogClose=function(){_this.setState({open:false,songName:'',songUrl:''});};_this.handleDialogSubmit=function(){_this.props.parentCallback(_this.state.songName,_this.state.selectedFile);_this.setState({open:false,songName:'',songUrl:''});};_this.onFileUpload=function(event){_this.setState({selectedFile:event.target.files[0]});};_this.state={open:false,songName:'',songUrl:'',selectedFile:null};_this.handleNameChange=_this.handleNameChange.bind(_assertThisInitialized(_this));_this.handleUrlChange=_this.handleUrlChange.bind(_assertThisInitialized(_this));_this.handleDialogOpen=_this.handleDialogOpen.bind(_assertThisInitialized(_this));_this.handleDialogClose=_this.handleDialogClose.bind(_assertThisInitialized(_this));_this.handleDialogSubmit=_this.handleDialogSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(UploadDialog,[{key:\"handleNameChange\",value:function handleNameChange(event){this.setState({songName:event.target.value});}},{key:\"handleUrlChange\",value:function handleUrlChange(event){this.setState({songUrl:event.target.value});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",onClick:this.handleDialogOpen,children:\"Add a song\"}),/*#__PURE__*/_jsxs(Modal,{show:this.state.open,onHide:this.handleDialogClose,animation:false,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:\"Upload a Song\"}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group text-left\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Song name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"song-name\",className:\"form-control\",id:\"playlist\",\"aria-describedby\":\"song name\",placeholder:\"Enter a song name\",value:this.state.songName,onChange:this.handleNameChange})]}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.File,{id:\"exampleFormControlFile1\",label:\"Example file input\",onChange:this.onFileUpload})})]})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"btn btn-primary\",onClick:this.handleDialogSubmit,children:\"Submit\"})})]})]});}}]);return UploadDialog;}(React.Component);export default UploadDialog;","map":{"version":3,"sources":["/home/jan/SoundTrackBoxFrontend/src/components/Dialogs/UploadDialog.js"],"names":["React","Button","Modal","Form","axios","API_BASE_URL","ACCESS_TOKEN_NAME","UploadDialog","props","handleDialogOpen","setState","open","handleDialogClose","songName","songUrl","handleDialogSubmit","parentCallback","state","selectedFile","onFileUpload","event","target","files","handleNameChange","bind","handleUrlChange","value","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\n\nimport axios from 'axios';\nimport { API_BASE_URL, ACCESS_TOKEN_NAME } from '../../constants/apiConstants';\n\nclass UploadDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      songName: '',\n      songUrl: '',\n      selectedFile: null,\n    };\n    this.handleNameChange = this.handleNameChange.bind(this);\n    this.handleUrlChange = this.handleUrlChange.bind(this);\n    this.handleDialogOpen = this.handleDialogOpen.bind(this);\n    this.handleDialogClose = this.handleDialogClose.bind(this);\n    this.handleDialogSubmit = this.handleDialogSubmit.bind(this);\n  }\n\n  handleNameChange(event) {\n    this.setState({ songName: event.target.value });\n  };\n\n  handleUrlChange(event) {\n    this.setState({ songUrl: event.target.value });\n  };\n\n  handleDialogOpen = () => {\n    this.setState({ open: true });\n  };\n\n  handleDialogClose = () => {\n    this.setState({\n      open: false,\n      songName: '',\n      songUrl: ''\n    });\n  };\n\n  handleDialogSubmit = () => {\n    this.props.parentCallback(this.state.songName, this.state.selectedFile);\n\n    this.setState({\n      open: false,\n      songName: '',\n      songUrl: ''\n    });\n  };\n\n  onFileUpload = (event) => {\n    this.setState({\n      selectedFile: event.target.files[0]\n    })\n  }\n\n\n  render() {\n    return (\n      <React.Fragment>\n        <a className=\"dropdown-item\" onClick={this.handleDialogOpen}>Add a song</a>\n\n\n        <Modal show={this.state.open} onHide={this.handleDialogClose} animation={false}>\n          <Modal.Header closeButton>\n            Upload a Song\n                </Modal.Header>\n          <Modal.Body>\n            <form>\n              <div className=\"form-group text-left\">\n                <label >Song name</label>\n                <input type=\"song-name\"\n                  className=\"form-control\"\n                  id=\"playlist\"\n                  aria-describedby=\"song name\"\n                  placeholder=\"Enter a song name\"\n                  value={this.state.songName}\n                  onChange={this.handleNameChange}\n                />\n              </div>\n              <Form.Group>\n                <Form.File id=\"exampleFormControlFile1\" label=\"Example file input\" onChange={this.onFileUpload} />\n              </Form.Group>\n            </form>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button\n              type=\"submit\"\n              className=\"btn btn-primary\"\n              onClick={this.handleDialogSubmit}\n            >Submit</Button>\n          </Modal.Footer>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default UploadDialog"]},"metadata":{},"sourceType":"module"}